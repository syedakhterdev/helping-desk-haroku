(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(10),r=a.n(o),i=a(12),s=a(13),c=a(15),u=a(14),m=a(5),d=a(16),h=window.localStorage,g=function(e){h.setItem("token",JSON.stringify(e))},p=function(){return JSON.parse(h.getItem("token"))},E=function(e){h.setItem("userProfile",JSON.stringify(e))},f=(a(61),a(62),a(3)),b=a(18),v=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{width:"100%",margin:"auto"}},l.a.createElement(f.Grid,{className:"header-top"},l.a.createElement(f.Cell,{col:12},l.a.createElement("h1",null,"Helping Desk"))))}}]),t}(n.Component),O=a(20),y=a(11),k=a(24),C=a.n(k),D={get:C.a.get,post:C.a.post,put:C.a.put,delete:C.a.delete},N="http://localhost:3000",j={},w=function(){j={"Content-Type":"application/json",Authorization:"bearer ".concat(p()&&p().token)}},z=function(e){var t=e.email,a=e.password;return w(),console.log("email:",t),fetch("".concat(N,"/login"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})})},S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:[],name:"",description:""},a.handleOpenDialog=a.handleOpenDialog.bind(Object(m.a)(a)),a.handleCloseDialog=a.handleCloseDialog.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getOrganization()}},{key:"handleOpenDialog",value:function(){this.setState({openDialog:!0})}},{key:"handleCloseDialog",value:function(){this.setState({openDialog:!1})}},{key:"getOrganization",value:function(){var e=this;(w(),D.get("".concat(N,"/organizations"),{headers:j})).then(function(t){e.setState({data:t.data})})}},{key:"handleSubmit",value:function(){var e=this;(function(e){return w(),D.post("".concat(N,"/organizations"),e,{headers:j})})({organization_name:this.state.name,organization_description:this.state.description}).then(function(t){t&&(console.log(t),e.getOrganization(),e.setState({openDialog:!1}))})}},{key:"deleteOrganization",value:function(e){var t=this;(function(e){return w(),D.delete("".concat(N,"/organizations/")+e,{headers:j})})(e).then(function(e){e&&(t.getOrganization(),t.setState({message:"organization is delete successfully"})),console.log("deleteOrganization",e)})}},{key:"handleChange",value:function(e,t){this.setState(Object(O.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container mt-5"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-2 offset-sm-8"},l.a.createElement("button",{className:"btn btn-success btn-block"},l.a.createElement(y.b,{to:"/user",style:{color:"white",textDecoration:"none"}},"Manage Users")),l.a.createElement("button",{className:"btn btn-success btn-block",onClick:this.handleOpenDialog},"Add"),l.a.createElement(f.Dialog,{open:this.state.openDialog},l.a.createElement(f.DialogContent,null,l.a.createElement("form",{action:"",method:"post"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Organization Name"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Organization Name",required:"true",onChange:function(t){return e.handleChange("name",t)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Description"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Description",required:"true",onChange:function(t){return e.handleChange("description",t)}})))),l.a.createElement(f.DialogActions,null,l.a.createElement(f.Button,{onClick:function(){return e.handleSubmit()}},"submit"),l.a.createElement(f.Button,{type:"button",onClick:this.handleCloseDialog},"Cancel"))))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-sm-8 offset-sm-2"},l.a.createElement("table",{class:"table table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Organization Name"),l.a.createElement("th",null,"Users"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.state.data.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.organization_name),l.a.createElement("td",null,t.organization_description),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return e.deleteOrganization(t.organization_id)}}," ","Delete")))}))))))}}]),t}(n.Component),_=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 offset-sm-4 mt-5"},l.a.createElement("button",{className:"btn btn-secondary"}," ",l.a.createElement(y.b,{to:"/user",className:"btn-manage-txt"},"Manage Users")),l.a.createElement("button",{className:"btn btn-secondary ml-2"},l.a.createElement(y.b,{to:"/organization",className:"btn-manage-txt"},"Manage Organizations"," ")))))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:[],name:"",description:"",allOrganization:[],allUser:[]},a.handleOpenDialog=a.handleOpenDialog.bind(Object(m.a)(a)),a.handleCloseDialog=a.handleCloseDialog.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleOpenDialog",value:function(){this.setState({openDialog:!0})}},{key:"handleCloseDialog",value:function(){this.setState({openDialog:!1})}},{key:"componentDidMount",value:function(){this.getTicket()}},{key:"handleSubmit",value:function(){var e=this;(function(e){return w(),D.post("".concat(N,"/tickets"),e,{headers:j})})({ticket_title:this.state.name,ticket_description:this.state.description}).then(function(t){e.getTicket(),e.setState({openDialog:!1})})}},{key:"getTicket",value:function(){var e=this;(w(),D.get("".concat(N,"/tickets"),{headers:j})).then(function(t){console.log("response ticket: ",t.data),e.setState({data:t.data})})}},{key:"handleChange",value:function(e,t){this.setState(Object(O.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container mt-5"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-2 offset-sm-8"},l.a.createElement("button",{className:"btn btn-success btn-block",onClick:this.handleOpenDialog},"Add Ticket"),l.a.createElement(f.Dialog,{open:this.state.openDialog},l.a.createElement(f.DialogContent,null,l.a.createElement("form",{action:"",method:"post"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Ticket Name"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Ticket Name",required:"true",onChange:function(t){return e.handleChange("name",t)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Description"),l.a.createElement("textarea",{className:"form-control",required:"true",onChange:function(t){return e.handleChange("description",t)}})))),l.a.createElement(f.DialogActions,null,l.a.createElement(f.Button,{type:"button",onClick:function(){return e.handleSubmit()}},"submit"),l.a.createElement(f.Button,{type:"button",onClick:this.handleCloseDialog},"Cancel"))))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-sm-8 offset-sm-2"},l.a.createElement("table",{class:"table table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Ticket Name"),l.a.createElement("th",null,"Ticket Description"),l.a.createElement("th",null,"Posted By"),l.a.createElement("th",null,"Organization Name"))),l.a.createElement("tbody",null,this.state.data.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.ticket_title),l.a.createElement("td",null,e.ticket_description),l.a.createElement("td",null,e.User.user_name),l.a.createElement("td",null,e.Organization.organization_name))}))))))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:[],name:"",email:"",password:"",role:"",organization:null,message:"",allOrganization:[]},a.handleOpenDialog=a.handleOpenDialog.bind(Object(m.a)(a)),a.handleCloseDialog=a.handleCloseDialog.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleOpenDialog",value:function(){this.setState({openDialog:!0})}},{key:"handleCloseDialog",value:function(){this.setState({openDialog:!1})}},{key:"componentDidMount",value:function(){this.getUsers(),this.getAllOrganization()}},{key:"getUsers",value:function(){var e=this;(w(),D.get("".concat(N,"/users"),{headers:j})).then(function(t){e.setState({data:t.data})})}},{key:"getAllOrganization",value:function(){var e=this;(w(),D.get("".concat(N,"/organizations"),{headers:j})).then(function(t){e.setState({allOrganization:t.data})})}},{key:"deleteUser",value:function(e){var t=this;(function(e){var t=e.id;return w(),D.delete("".concat(N,"/users/")+t,{headers:j})})({id:e}).then(function(e){e&&(t.getUsers(),t.setState({message:"data is delete successfully"})),console.log("deleteUser",e)})}},{key:"handleSubmit",value:function(){var e=this;(function(e){return w(),console.log(j),D.post("".concat(N,"/users"),e,{headers:j})})({user_name:this.state.name,user_email:this.state.email,user_passsword:this.state.password,user_role:this.state.role,organization_id:Number(this.state.organization)}).then(function(t){e.getUsers(),e.setState({login:!0})})}},{key:"handleChange",value:function(e,t){this.setState(Object(O.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container mt-5"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-2 offset-sm-8"},l.a.createElement("button",{style:{padding:"0.375rem 0.5rem"},className:"btn btn-success btn-block"},l.a.createElement(y.b,{to:"/organization",style:{color:"white",textDecoration:"none"}},"Manage Organization")),l.a.createElement("button",{className:"btn btn-success btn-block",onClick:this.handleOpenDialog},"Add"),l.a.createElement(f.Dialog,{open:this.state.openDialog},l.a.createElement(f.DialogContent,null,l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",required:"true",onChange:function(t){return e.handleChange("name",t)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",onChange:function(t){return e.handleChange("email",t)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",onChange:function(t){return e.handleChange("password",t)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Role"),l.a.createElement("select",{defaultValue:"user",className:"form-control",onChange:function(t){return e.handleChange("role",t)}},l.a.createElement("option",null,"Select Roles"),l.a.createElement("option",null,"User"),l.a.createElement("option",null,"Admin"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Organization Name"),l.a.createElement("select",{className:"form-control",onChange:function(t){return e.handleChange("organization",t)}},l.a.createElement("option",null,"Select Organization"),this.state.allOrganization.map(function(e,t){return l.a.createElement("option",{value:e.organization_id},e.organization_name)}))))),l.a.createElement(f.DialogActions,null,!this.state.login&&l.a.createElement(f.Button,{type:"button",onClick:function(){return e.handleSubmit()}},"Submit"),l.a.createElement(f.Button,{type:"button",onClick:this.handleCloseDialog},"Cancel")),this.state.login&&l.a.createElement("p",null,"Form successfully submitted")))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-sm-8 offset-sm-2"},l.a.createElement("table",{class:"table table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Password"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"role"),l.a.createElement("th",null,"organization"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.state.data.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.user_name),l.a.createElement("td",null,t.user_passsword),l.a.createElement("td",null,t.user_email),l.a.createElement("td",null,t.user_role),l.a.createElement("td",null,t.Organization.organization_name),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return e.deleteUser(t.user_id)}}," ","Delete")))}))))))}}]),t}(n.Component),U=function(e){return l.a.createElement(b.b,{history:e.history},l.a.createElement(b.c,null,l.a.createElement(b.a,{exact:!0,path:"/",component:v}),l.a.createElement(b.a,{path:"/organization",component:S}),l.a.createElement(b.a,{path:"/manage",component:_}),l.a.createElement(b.a,{path:"/standard",component:x}),l.a.createElement(b.a,{path:"/user",component:A})))},B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).emailChangeHandler=function(e){a.setState({email:e.target.value})},a.passwordChangeHandler=function(e){a.setState({password:e.target.value})},a.loginHandler=function(e){e.preventDefault();var t=a.state.email,n=a.state.password;z({email:t,password:n}).then(function(e){return e.json()}).then(function(e){e&&e.userProfile&&e.userProfile.userRole?(g({token:e.token}),E({userProfile:e.userProfile}),a.setState({openDialog:!1}),a.setState({login:!1}),"Admin"===e.userProfile.userRole?a.props.history.push("/manage"):a.props.history.push("/standard")):a.setState({errorMessage:"incorrect email and password"})})},a.state={email:"",password:"",login:!p(),errorMessage:""},a.handleOpenDialog=a.handleOpenDialog.bind(Object(m.a)(a)),a.handleCloseDialog=a.handleCloseDialog.bind(Object(m.a)(a)),a.handleLogOut=a.handleLogOut.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleOpenDialog",value:function(){this.setState({openDialog:!0})}},{key:"handleCloseDialog",value:function(){this.setState({openDialog:!1})}},{key:"handleLogOut",value:function(){h.removeItem("token"),h.removeItem("userProfile"),this.setState({login:!0}),this.props.history.push("/")}},{key:"render",value:function(){return l.a.createElement("div",{className:"demo-big-content"},l.a.createElement(f.Layout,null,l.a.createElement(f.Header,{className:"header-style",title:"Helping Desk",scroll:!0},this.state.login?l.a.createElement(f.Button,{className:"top-p",colored:!0,onClick:this.handleOpenDialog,raised:!0,ripple:!0},"Login"):l.a.createElement(f.Button,{className:"top-p",colored:!0,onClick:this.handleLogOut,raised:!0,ripple:!0},"LogOut"),l.a.createElement("form",{onSubmit:this.loginHandler,method:"post"},l.a.createElement(f.Dialog,{open:this.state.openDialog},l.a.createElement(f.DialogTitle,null,"Login Here"),l.a.createElement(f.DialogContent,null,l.a.createElement(f.Textfield,{value:this.state.email,onChange:this.emailChangeHandler,label:"Username",style:{width:"200px"}}),l.a.createElement(f.Textfield,{value:this.state.password,onChange:this.passwordChangeHandler,label:"password",style:{width:"200px"}})),l.a.createElement(f.DialogActions,null,l.a.createElement(f.Button,{type:"submit",onClick:this.loginHandler},"login"),l.a.createElement(f.Button,{type:"button",onClick:this.handleCloseDialog},"Cancel")),this.state.errorMessage))),l.a.createElement(f.Content,null,l.a.createElement("div",{className:"page-content"}),l.a.createElement(U,{history:this.props.history}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(131),a(132),a(133),a(53),a(134),a(135);var T=a(6),H=Object(T.a)();r.a.render(l.a.createElement(y.a,null,l.a.createElement(B,{history:H})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,a){e.exports=a(136)},61:function(e,t,a){},62:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.8210a209.chunk.js.map